<div class="divide-y">
  <% queries.each do |query| %>
    <div class="p-4 text-sm odd:bg-gray-50 group" data-controller="code-syntax" data-code-syntax-query-value="<%= {sql: query[:sql]}.to_json %>">
      <div class="flex items-center h-6 mb-2">
        <h3 class="mr-4 font-bold"><%= query[:title] %></h3>

        <span class="[--color1:--color-indigo-500] [--color2:--color-gray-800] mr-auto cursor-pointer" data-action="click->code-syntax#toggleFormat">
          <%= render 'rails/monitor/icons/expand', css_class_expanded: 'formatted' %>
        </span>

        <div class="items-center justify-center hidden gap-1 py-1 text-xs font-semibold text-gray-500 border rounded cursor-pointer group-hover:flex w-36 hover:text-indigo-500 transition-color hover:border-indigo-500" data-action="click->code-syntax#copyClipboard">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 copied:hidden">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
          </svg>
          <span class="copied:hidden">
            Copy to clipboard
          </span>
          <span class="hidden copied:block">
            Copied!
          </span>
        </div>
      </div>

      <div class="w-full py-4 overflow-x-auto">
        <pre data-code-syntax-target="container"></pre>
      </div>
    </div>
  <% end %>
</div>
